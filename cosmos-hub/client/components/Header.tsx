import { Link } from "react-router-dom";
import { useState } from "react";
import { Menu, X } from "lucide-react";

export default function Header() {
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

  return (
    <header className="fixed top-0 left-0 right-0 z-50 flex justify-center pt-[52px] px-4">
      <div className="w-full max-w-[1036px] min-h-[55px] flex items-center justify-between px-4 sm:px-8 rounded-[30px] border border-[#D8D8D8] bg-[#F9FAFB] shadow-[0_4px_6px_0_rgba(0,0,0,0.25)]">
        {/* Logo */}
        <Link to="/" className="flex items-center gap-2 sm:gap-3 flex-shrink-0">
          <svg
            width="41"
            height="41"
            viewBox="0 0 41 41"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="w-8 h-8 sm:w-10 sm:h-10"
          >
            <path
              d="M20.5 0C31.8218 0 41 9.17816 41 20.5C41 31.8218 31.8218 41 20.5 41C9.17816 41 0 31.8218 0 20.5C0 9.17816 9.17816 0 20.5 0ZM26.501 20.4375C26.2565 20.4231 26.0334 20.4694 25.832 20.5771C25.6305 20.6851 25.4503 20.8334 25.292 21.0205C25.1337 21.2076 25.0253 21.4091 24.9678 21.625C24.9103 21.8407 24.9032 22.0709 24.9463 22.3154L25.3994 24.54L19.7432 23.4814C19.4987 23.4384 19.2792 23.4818 19.085 23.6113C18.8907 23.7409 18.7717 23.9281 18.7285 24.1729C18.6854 24.4174 18.729 24.6368 18.8584 24.8311C18.9879 25.0254 19.1752 25.1443 19.4199 25.1875L27.5801 26.7207L26.8467 22.9854L29.9551 26.4189V31.9463C29.9551 32.1622 29.8831 32.353 29.7393 32.5186C29.5953 32.6841 29.4222 32.7818 29.2207 32.8105L20.3047 34.2998C20.0601 34.343 19.8691 34.4548 19.7324 34.6348C19.5958 34.8146 19.5497 35.0269 19.5928 35.2715C19.6359 35.516 19.7506 35.707 19.9375 35.8438C20.1246 35.9805 20.3413 36.0276 20.5859 35.9844L29.5234 34.5156C30.1566 34.4004 30.6752 34.1094 31.0781 33.6416C31.481 33.1738 31.6826 32.6155 31.6826 31.9678V26.7422C31.6826 26.4112 31.6249 26.1013 31.5098 25.8135C31.3946 25.5257 31.2285 25.2593 31.0127 25.0146L26.8896 20.459L26.501 20.4375ZM18.6641 30.8018C18.4194 30.8305 18.2179 30.9317 18.0596 31.1045C17.9013 31.2772 17.8365 31.4858 17.8652 31.7305C17.894 31.9752 17.9953 32.1766 18.168 32.335C18.3407 32.4932 18.5493 32.5581 18.7939 32.5293L23.9102 32.0977V30.3701L18.6641 30.8018ZM29.3721 17.0791C29.1563 16.9856 28.9333 16.975 28.7031 17.0469C28.4729 17.1188 28.3068 17.2626 28.2061 17.4785C28.1053 17.6945 28.0911 17.9181 28.1631 18.1484L29.1992 21.1064L31.9629 24.1299C32.0348 24.2162 32.1068 24.3059 32.1787 24.3994C32.2507 24.493 32.3226 24.5906 32.3945 24.6914L33.7979 23.46L32.9346 26.1592C32.949 26.2599 32.9596 26.3576 32.9668 26.4512C32.974 26.5446 32.9775 26.6416 32.9775 26.7422V29.5068C33.2221 29.3486 33.4451 29.1611 33.6465 28.9453C33.8479 28.7295 33.9918 28.4772 34.0781 28.1895L36 22.2295L35.8057 21.8838C35.6905 21.6823 35.5396 21.5127 35.3525 21.376C35.1656 21.2393 34.9496 21.1568 34.7051 21.1279C34.4604 21.0991 34.226 21.1133 34.0029 21.1709C33.7798 21.2285 33.5819 21.3368 33.4092 21.4951L31.7256 22.9854L29.8037 17.5654C29.7317 17.3351 29.588 17.1727 29.3721 17.0791ZM17.8867 27.1309C17.6422 27.1165 17.4369 27.1885 17.2715 27.3467C17.106 27.505 17.0163 27.7074 17.002 27.9521C16.9877 28.1967 17.0631 28.4055 17.2285 28.5781C17.394 28.7508 17.5992 28.844 17.8438 28.8584L23.9102 29.0527V27.3252L17.8867 27.1309ZM13.8965 5.01562C13.6085 5.01562 13.296 5.13598 12.96 5.37598C12.672 5.58398 12.3203 6.0243 11.9043 6.69629C11.4883 7.36826 11.0321 8.19204 10.5361 9.16797C10.0402 10.1278 9.53633 11.1757 9.02441 12.3115C8.51241 13.4475 8.01613 14.5921 7.53613 15.7441C7.07214 16.8801 6.64766 17.9604 6.26367 18.9844C5.89576 20.0081 5.59994 20.904 5.37598 21.6719C5.16804 22.4237 5.06451 22.9677 5.06445 23.3037C5.06445 23.7517 5.14372 24.0642 5.30371 24.2402C5.46366 24.4162 5.67186 24.5038 5.92773 24.5039C6.11973 24.5039 6.29605 24.4395 6.45605 24.3115C6.63197 24.1835 6.81591 23.9277 7.00781 23.5439C7.19981 23.144 7.41626 22.5441 7.65625 21.7441C7.75225 21.3601 7.9276 20.8079 8.18359 20.0879C8.43957 19.352 8.74375 18.5281 9.0957 17.6162C9.79964 17.5042 10.6319 17.3764 11.5918 17.2324C12.5677 17.0884 13.5278 16.9363 14.4717 16.7764C14.4877 17.6242 14.4961 18.4323 14.4961 19.2002C14.5121 19.952 14.5195 20.6239 14.5195 21.2158V22.9199C14.5195 23.2399 14.5765 23.4881 14.6885 23.6641C14.8005 23.8239 15.0002 23.9043 15.2881 23.9043C15.5281 23.9043 15.7763 23.7755 16.0322 23.5195C16.2881 23.2634 16.5038 22.7753 16.6797 22.0557C16.8556 21.3197 16.9443 20.2234 16.9443 18.7676C16.9443 18.4797 16.9359 18.136 16.9199 17.7363C16.9199 17.3203 16.9125 16.8716 16.8965 16.3916C17.3922 16.2957 17.8161 16.2163 18.168 16.1523C18.5356 16.0724 18.7755 16.0164 18.8877 15.9844C19.2396 15.8724 19.5121 15.7044 19.7041 15.4805C19.8961 15.2565 19.9763 14.9999 19.9443 14.7119C19.9283 14.52 19.8481 14.352 19.7041 14.208C19.5601 14.064 19.2159 13.9922 18.6719 13.9922C18.5279 13.9922 18.2955 14.008 17.9756 14.04C17.6557 14.072 17.256 14.1196 16.7764 14.1836C16.6964 13.2398 16.6003 12.2879 16.4883 11.3281C16.3923 10.3521 16.2635 9.4398 16.1035 8.5918C15.9436 7.72806 15.7522 7.00009 15.5283 6.4082C15.3204 5.80043 15.072 5.40852 14.7842 5.23242C14.6722 5.15243 14.5359 5.09645 14.376 5.06445C14.2161 5.03249 14.0563 5.01566 13.8965 5.01562ZM22.3447 19.9189C22.1073 19.8758 21.888 19.9264 21.6865 20.0703C21.4851 20.2143 21.3661 20.398 21.3301 20.6211C21.2942 20.8441 21.3413 21.0564 21.4707 21.2578L22.4639 22.6826L23.7588 22.9199L23.6943 22.5752C23.6656 22.3881 23.6514 22.2007 23.6514 22.0137C23.6514 21.8266 23.6656 21.6393 23.6943 21.4521L22.917 20.2861C22.7731 20.0846 22.5822 19.9621 22.3447 19.9189ZM24.9785 17.4678C24.7412 17.4031 24.5217 17.4288 24.3203 17.5439C24.119 17.6591 23.9857 17.835 23.9209 18.0723C23.8561 18.3098 23.881 18.5299 23.9961 18.7314L24.6445 19.832C24.9035 19.5875 25.1629 19.4223 25.4219 19.3359C25.6808 19.2496 25.9616 19.1919 26.2637 19.1631L25.5078 17.8672C25.3927 17.6658 25.2159 17.5325 24.9785 17.4678ZM13.6318 7.27246C13.8558 8.04043 14.0238 9.08824 14.1357 10.416C14.2637 11.728 14.3524 13.104 14.4004 14.5439C13.7604 14.6559 13.0561 14.7922 12.2881 14.9521C11.5361 15.1121 10.7441 15.2885 9.91211 15.4805C10.3441 14.4245 10.7844 13.3675 11.2324 12.3115C11.6963 11.2397 12.1358 10.2636 12.5518 9.38379C12.9676 8.50406 13.3279 7.8004 13.6318 7.27246Z"
              fill="#5D5BEA"
            />
          </svg>
          <span className="text-[18px] sm:text-[21px] font-bold text-black">SignLink</span>
        </Link>

        {/* Desktop Navigation */}
        <nav className="hidden lg:flex items-center gap-[42px]">
          <Link to="/" className="text-[18px] font-normal text-[#4D4D4D] hover:text-black transition-colors">
            Home
          </Link>
          <Link to="/history" className="text-[18px] font-normal text-[#4D4D4D] hover:text-black transition-colors">
            History
          </Link>
          <Link to="/settings" className="text-[18px] font-normal text-[#4D4D4D] hover:text-black transition-colors">
            Settings
          </Link>
        </nav>

        {/* Desktop Auth Buttons */}
        <div className="hidden lg:flex items-center gap-3">
          <button className="w-[110px] h-[40px] rounded-[30px] border border-[#D9D9D9] bg-[#F9FAFB] text-[16px] font-normal text-black hover:bg-gray-50 transition-colors">
            Log In
          </button>
          <button className="w-[132px] h-[40px] rounded-[30px] border border-[#5D5BEA] bg-[#5D5BEA] text-[16px] font-normal text-[#F9FAFB] hover:bg-[#4a49d1] transition-colors">
            Register now
          </button>
        </div>

        {/* Mobile Menu Button */}
        <button
          className="lg:hidden p-2 text-black"
          onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
          aria-label="Toggle menu"
        >
          {mobileMenuOpen ? <X size={24} /> : <Menu size={24} />}
        </button>
      </div>

      {/* Mobile Menu */}
      {mobileMenuOpen && (
        <div className="lg:hidden absolute top-[120px] left-4 right-4 bg-[#F9FAFB] rounded-[20px] border border-[#D8D8D8] shadow-[0_4px_6px_0_rgba(0,0,0,0.25)] overflow-hidden">
          <nav className="flex flex-col p-4">
            <Link
              to="/"
              className="text-[18px] font-normal text-[#4D4D4D] hover:text-black transition-colors py-3 border-b border-gray-200"
              onClick={() => setMobileMenuOpen(false)}
            >
              Home
            </Link>
            <Link
              to="/history"
              className="text-[18px] font-normal text-[#4D4D4D] hover:text-black transition-colors py-3 border-b border-gray-200"
              onClick={() => setMobileMenuOpen(false)}
            >
              History
            </Link>
            <Link
              to="/settings"
              className="text-[18px] font-normal text-[#4D4D4D] hover:text-black transition-colors py-3 border-b border-gray-200"
              onClick={() => setMobileMenuOpen(false)}
            >
              Settings
            </Link>
            <div className="flex flex-col gap-3 pt-4">
              <button className="w-full h-[40px] rounded-[30px] border border-[#D9D9D9] bg-[#F9FAFB] text-[16px] font-normal text-black hover:bg-gray-50 transition-colors">
                Log In
              </button>
              <button className="w-full h-[40px] rounded-[30px] border border-[#5D5BEA] bg-[#5D5BEA] text-[16px] font-normal text-[#F9FAFB] hover:bg-[#4a49d1] transition-colors">
                Register now
              </button>
            </div>
          </nav>
        </div>
      )}
    </header>
  );
}
